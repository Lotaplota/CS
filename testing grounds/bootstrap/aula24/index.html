<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../extra.css">
    <script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js" defer></script>
    <title>Validação de Formulários</title>
</head>

<body>
    <!-- Seção do título -->
    <h1>Validação de Formulários</h1>
    <hr>

    <div class="container p-5">
        <form method="post" class="needs-validation" novalidate>
            <h1 class="display-3">Endereço</h1>
            <hr>
            <div class="row mb-3 g-2">
                <div class="col-7">
                    <label for="logradouro" class="form-label">Logradouro</label>
                    <input type="text" class="form-control" id="logradouro" required>
                    <div class="invalid-feedback">Você deve informar o logradouro.</div>
                </div>
                <div class="col-2">
                    <label for="numero" class="form-label">Número</label>
                    <input type="text" class="form-control" id="numero">
                </div>
                <div class="col-3">
                    <label for="complemento" class="form-label">Complemento</label>
                    <input type="text" class="form-control" id="complemento">
                </div>
                <div class="col-6">
                    <label for="bairro" class="form-label">Bairro</label>
                    <input type="text" class="form-control" id="bairro">
                </div>
                <div class="col-6">
                    <label for="cidade" class="form-label">Cidade</label>
                    <input type="text" class="form-control" id="cidade">
                </div>
                <div class="col-6">
                    <label for="estado" class="form-label">Estado</label>
                    <input type="text" class="form-control" id="estado">
                </div>
                <div class="col-2">
                    <label for="cep" class="form-label">CEP</label>
                    <input type="text" class="form-control" id="cep" pattern="[0-9]{8}" required>
                </div>
                <div class="col-4 d-flex align-items-end"> <!--Remember that sometimes to change where an element is aligned, the settings of its <parent> have to change -->
                    <button class="btn btn-primary w-100">Cadastrar</button>
                </div>
            </div>
            <div class="col text-end">
                <input type="checkbox" name="" id="concordo" class="form-check-input" required>
                <label for="concordo" class="form-check-label">Eu concordo com os termos de uso.</label>
            </div>
        </form>
    </div>
        
    <!-- Seção das notas -->
    <div class="note-section container-fluid bg-info-subtle">
        <h3>Notes</h3>
        <p>Os dois métodos de envio padrão para um <code>&ltform&gt</code> são <code>get</code> e <code>post</code></p>
        <p>Mandatory fields of a form should be marked with the attribute <code>required</code>.</p>
        <p>To enable Bootstrap's form validation mechanism, the <code>&ltform&gt</code>'s attributes should have <code>class="needs-validation"</code> and <code>novalidate</code></p>
        <p class="l-2">While <code>novalidate</code> disables the form's validation, the <code>class="needs-validation"</code> activates Bootstrap's.</p>
        <p>"When a <code>&ltbutton&gt</button></code> is inside a <code>&ltform&gt</form></code> and it doesn't specify a type, its default type is submit." <cite>- ChatGPT</cite></p>
        <p>You can add a <code>&ltdiv class="invalid-feedback"&gt</code> to the parent of the input field to show to the user as feedback about the correct usage.</p>
        <p class="l-2">Similarly, you can also use <code>valid-feedback</code>. Not really useful though.</p>
        <p>Attributes like <code>is-valid</code> and <code>is-invalid</code> can be used to bypass client-side validation.</p>
        <p>Should look into <em>regular expressions</em> a bit more.</p>
    </div>
    
    <h3><a href="../">Voltar ao Início</a></h3>

    <script>
        // Javascript que evita submissões caso hajam campos inválidos
        (() => {
        'use strict'

        // Dá fetch em todos os formulários que habilitaram a ferramenta de validação do Bootstrap
        const forms = document.querySelectorAll('.needs-validation')

        // Loopa por todos eles para prevenir submissão
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
            if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
            }

            form.classList.add('was-validated')
            }, false)
        })
        })()
    </script>
</body>
</html>